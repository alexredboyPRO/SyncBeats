<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SyncBeats - Synchronized Music Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a1a 0%, #000000 100%);
            overflow-x: hidden;
        }
        
        .aurora-bg {
            background: linear-gradient(45deg, #8b5cf6, #f59e0b, #8b5cf6);
            background-size: 400% 400%;
            animation: aurora 8s ease-in-out infinite;
            opacity: 0.1;
        }
        
        @keyframes aurora {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .glow-violet {
            box-shadow: 0 0 20px rgba(139, 92, 246, 0.3);
        }
        
        .album-art {
            transition: transform 0.3s ease;
        }
        
        .album-art:hover {
            transform: perspective(1000px) rotateY(5deg) rotateX(5deg);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #8b5cf6, #f59e0b);
        }
        
        .floating-notes {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }
        
        .note {
            position: absolute;
            color: rgba(139, 92, 246, 0.3);
            animation: float 6s ease-in-out infinite;
            font-size: 20px;
        }
        
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        .member-avatar {
            position: relative;
        }
        
        .member-avatar::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 12px;
            height: 12px;
            background: #10b981;
            border: 2px solid #1a1a1a;
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        .nav-bottom {
            backdrop-filter: blur(10px);
            background: rgba(26, 26, 26, 0.9);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
        }
        
        .waveform {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 2px;
            height: 40px;
        }
        
        .wave-bar {
            width: 3px;
            background: linear-gradient(to top, #8b5cf6, #f59e0b);
            border-radius: 2px;
            animation: wave 1.5s ease-in-out infinite;
        }
        
        @keyframes wave {
            0%, 100% { height: 10px; }
            50% { height: 30px; }
        }
        
        .wave-bar:nth-child(2) { animation-delay: 0.1s; }
        .wave-bar:nth-child(3) { animation-delay: 0.2s; }
        .wave-bar:nth-child(4) { animation-delay: 0.3s; }
        .wave-bar:nth-child(5) { animation-delay: 0.4s; }
        .wave-bar:nth-child(6) { animation-delay: 0.5s; }
        .wave-bar:nth-child(7) { animation-delay: 0.4s; }
        .wave-bar:nth-child(8) { animation-delay: 0.3s; }
        .wave-bar:nth-child(9) { animation-delay: 0.2s; }
        .wave-bar:nth-child(10) { animation-delay: 0.1s; }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- Aurora Background -->
    <div class="aurora-bg fixed inset-0 z-0"></div>
    
    <!-- Floating Notes -->
    <div class="floating-notes z-10">
        <div class="note" style="left: 10%; animation-delay: 0s;">♪</div>
        <div class="note" style="left: 20%; animation-delay: 1s;">♫</div>
        <div class="note" style="left: 30%; animation-delay: 2s;">♪</div>
        <div class="note" style="left: 40%; animation-delay: 3s;">♫</div>
        <div class="note" style="left: 50%; animation-delay: 4s;">♪</div>
        <div class="note" style="left: 60%; animation-delay: 5s;">♫</div>
        <div class="note" style="left: 70%; animation-delay: 1.5s;">♪</div>
        <div class="note" style="left: 80%; animation-delay: 2.5s;">♫</div>
        <div class="note" style="left: 90%; animation-delay: 3.5s;">♪</div>
    </div>

    <!-- Main Content -->
    <div class="relative z-20 min-h-screen pb-20">
        <!-- Header -->
        <header class="p-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-gradient-to-r from-violet-500 to-amber-500 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-sm">♪</span>
                </div>
                <span class="text-xl font-bold">SyncBeats</span>
            </div>
            <div class="flex items-center space-x-4">
                <div class="text-sm text-gray-300">
                    <span id="connection-status" class="text-emerald-400">● Connected</span>
                </div>
            </div>
        </header>

        <!-- Hero Section with Music Player -->
        <div class="px-4 py-8">
            <!-- Current Track Info -->
            <div class="text-center mb-8">
                <h1 class="text-2xl font-bold mb-2">
                    <span id="typed-title"></span>
                </h1>
                <p class="text-gray-400 text-lg" id="artist-name">Aurora Synthwave</p>
                <p class="text-gray-500" id="album-name">Neon Dreams • 2024</p>
            </div>

            <!-- Album Artwork -->
            <div class="flex justify-center mb-8">
                <div class="album-art relative">
                    <img src="resources/album-art-1.jpg" alt="Album Art" 
                         class="w-64 h-64 rounded-2xl shadow-2xl glow-violet object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-2xl"></div>
                </div>
            </div>

            <!-- Music Player Controls -->
            <div class="max-w-md mx-auto space-y-6">
                <!-- Progress Bar -->
                <div class="space-y-2">
                    <div class="flex justify-between text-xs text-gray-400">
                        <span id="current-time">2:34</span>
                        <span id="total-time">4:12</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2 relative">
                        <div class="progress-bar h-2 rounded-full" style="width: 61%"></div>
                        <div class="absolute top-1/2 transform -translate-y-1/2 left-3/5 w-4 h-4 bg-white rounded-full shadow-lg"></div>
                    </div>
                </div>

                <!-- Waveform Visualization -->
                <div class="waveform">
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                    <div class="wave-bar"></div>
                </div>

                <!-- Control Buttons -->
                <div class="flex items-center justify-center space-x-6">
                    <button class="p-3 text-gray-400 hover:text-white transition-colors" onclick="alert('Previous track feature coming soon!')">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                        </svg>
                    </button>
                    <button id="play-pause-btn" class="btn-primary p-4 rounded-full text-white">
                        <svg id="play-icon" class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M8 5v14l11-7z"/>
                        </svg>
                        <svg id="pause-icon" class="w-8 h-8 hidden" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                        </svg>
                    </button>
                    <button class="p-3 text-gray-400 hover:text-white transition-colors" onclick="alert('Next track feature coming soon!')">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                        </svg>
                    </button>
                </div>

                <!-- Volume Control -->
                <div class="flex items-center space-x-3">
                    <svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                    </svg>
                    <div class="flex-1 bg-gray-700 rounded-full h-2">
                        <div class="progress-bar h-2 rounded-full" style="width: 75%"></div>
                    </div>
                    <span class="text-xs text-gray-400">75%</span>
                </div>
            </div>
        </div>

        <!-- Group Members Section -->
        <div class="px-4 py-6">
            <h3 class="text-lg font-semibold mb-4">Listening Together • <span class="text-violet-400">5 members</span></h3>
            <div class="flex space-x-4 overflow-x-auto pb-2">
                <div class="flex-shrink-0 text-center">
                    <div class="member-avatar w-16 h-16 bg-gradient-to-r from-violet-500 to-amber-500 rounded-full flex items-center justify-center mb-2">
                        <span class="text-white font-bold">A</span>
                    </div>
                    <p class="text-xs text-gray-400">Alex (Host)</p>
                </div>
                <div class="flex-shrink-0 text-center">
                    <div class="member-avatar w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mb-2">
                        <span class="text-white font-bold">S</span>
                    </div>
                    <p class="text-xs text-gray-400">Sarah</p>
                </div>
                <div class="flex-shrink-0 text-center">
                    <div class="member-avatar w-16 h-16 bg-gradient-to-r from-rose-500 to-pink-500 rounded-full flex items-center justify-center mb-2">
                        <span class="text-white font-bold">M</span>
                    </div>
                    <p class="text-xs text-gray-400">Mike</p>
                </div>
                <div class="flex-shrink-0 text-center">
                    <div class="member-avatar w-16 h-16 bg-gradient-to-r from-amber-500 to-orange-500 rounded-full flex items-center justify-center mb-2">
                        <span class="text-white font-bold">E</span>
                    </div>
                    <p class="text-xs text-gray-400">Emma</p>
                </div>
                <div class="flex-shrink-0 text-center">
                    <div class="member-avatar w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full flex items-center justify-center mb-2">
                        <span class="text-white font-bold">J</span>
                    </div>
                    <p class="text-xs text-gray-400">Jake</p>
                </div>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="px-4 py-6">
            <h3 class="text-lg font-semibold mb-4">Group Chat</h3>
            <div class="bg-gray-800/50 rounded-lg p-4 space-y-3 max-h-40 overflow-y-auto">
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-violet-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-xs font-bold">S</span>
                    </div>
                    <div>
                        <p class="text-sm"><span class="text-violet-400 font-medium">Sarah:</span> This track is amazing! 🔥</p>
                        <p class="text-xs text-gray-500">2 min ago</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-xs font-bold">M</span>
                    </div>
                    <div>
                        <p class="text-sm"><span class="text-emerald-400 font-medium">Mike:</span> Perfect for our study session</p>
                        <p class="text-xs text-gray-500">1 min ago</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-rose-500 rounded-full flex items-center justify-center flex-shrink-0">
                        <span class="text-xs font-bold">A</span>
                    </div>
                    <div>
                        <p class="text-sm"><span class="text-rose-400 font-medium">Alex (Host):</span> Next track is even better! 🎵</p>
                        <p class="text-xs text-gray-500">30 sec ago</p>
                    </div>
                </div>
            </div>
            <div class="mt-4 flex space-x-2">
                <input type="text" placeholder="Type a message..." 
                       class="flex-1 bg-gray-700 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-violet-500">
                <button class="btn-primary px-4 py-2 rounded-lg text-sm font-medium">Send</button>
            </div>
        </div>

        <!-- Credits Section -->
        <div class="px-4 py-6 text-center">
            <p class="text-sm text-gray-500">Made with ♡ by <span class="text-violet-400 font-medium">AlexDevilish</span></p>
            <p class="text-xs text-gray-600 mt-1">Creating synchronized musical moments</p>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="nav-bottom fixed bottom-0 left-0 right-0 z-30 px-4 py-3">
        <div class="flex justify-around items-center max-w-md mx-auto">
            <a href="index.html" class="flex flex-col items-center space-y-1 text-violet-400 no-underline" id="player-nav">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                </svg>
                <span class="text-xs font-medium">Player</span>
            </a>
            <a href="groups.html" class="flex flex-col items-center space-y-1 text-gray-400 hover:text-white transition-colors no-underline" id="groups-nav">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-2.99-4.01A2.5 2.5 0 0 0 7 8H5.46c-.8 0-1.49.59-1.42 1.37L6.5 16H9v6h2v-6h2v6h2z"/>
                </svg>
                <span class="text-xs">Groups</span>
            </a>
            <a href="host.html" class="flex flex-col items-center space-y-1 text-gray-400 hover:text-white transition-colors no-underline" id="host-nav">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
                <span class="text-xs">Host</span>
            </a>
        </div>
    </nav>

    <script>
        // Initialize Typed.js for track title
        const typed = new Typed('#typed-title', {
            strings: ['Midnight Drive', 'Neon Dreams', 'Electric Nights'],
            typeSpeed: 80,
            backSpeed: 60,
            backDelay: 2000,
            loop: true,
            showCursor: false
        });

        // Chat functionality
        const chatInput = document.querySelector('#chat-input');
        const sendButton = document.querySelector('#send-message-btn');
        const chatMessages = document.querySelector('.bg-gray-800\\/50');

        function sendMessage() {
            if (chatInput && sendButton && chatMessages) {
                const message = chatInput.value.trim();
                if (message) {
                    const messageEl = document.createElement('div');
                    messageEl.className = 'flex items-start space-x-3';
                    messageEl.innerHTML = `
                        <div class="w-8 h-8 bg-violet-500 rounded-full flex items-center justify-center flex-shrink-0">
                            <span class="text-xs font-bold">You</span>
                        </div>
                        <div>
                            <p class="text-sm"><span class="text-violet-400 font-medium">You:</span> ${message}</p>
                            <p class="text-xs text-gray-500">Just now</p>
                        </div>
                    `;
                    
                    chatMessages.appendChild(messageEl);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    chatInput.value = '';
                    
                    // Animate new message
                    anime({
                        targets: messageEl,
                        translateY: [20, 0],
                        opacity: [0, 1],
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                }
            }
        }

        if (sendButton) {
            sendButton.addEventListener('click', sendMessage);
        }
        
        if (chatInput) {
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Play/Pause functionality
        let isPlaying = false;
        const playPauseBtn = document.getElementById('play-pause-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');

        if (playPauseBtn && playIcon && pauseIcon) {
            playPauseBtn.addEventListener('click', function() {
                isPlaying = !isPlaying;
                
                if (isPlaying) {
                    playIcon.classList.add('hidden');
                    pauseIcon.classList.remove('hidden');
                    
                    // Animate play button
                    anime({
                        targets: playPauseBtn,
                        scale: [1, 1.1, 1],
                        duration: 300,
                        easing: 'easeOutElastic(1, .8)'
                    });
                } else {
                    playIcon.classList.remove('hidden');
                    pauseIcon.classList.add('hidden');
                }
            });
        }

        // Animate member avatars on load
        anime({
            targets: '.member-avatar',
            scale: [0, 1],
            opacity: [0, 1],
            delay: anime.stagger(100),
            duration: 600,
            easing: 'easeOutElastic(1, .8)'
        });

        // Animate album art on load
        anime({
            targets: '.album-art',
            scale: [0.8, 1],
            opacity: [0, 1],
            duration: 800,
            easing: 'easeOutElastic(1, .8)'
        });

        // Simulate real-time updates
        setInterval(() => {
            const currentTime = document.getElementById('current-time');
            if (currentTime && isPlaying) {
                const timeText = currentTime.textContent;
                const [minutes, seconds] = timeText.split(':').map(Number);
                let totalSeconds = minutes * 60 + seconds + 1;
                
                if (totalSeconds >= 252) { // 4:12 = 252 seconds
                    totalSeconds = 0;
                }
                
                const newMinutes = Math.floor(totalSeconds / 60);
                const newSeconds = totalSeconds % 60;
                currentTime.textContent = `${newMinutes}:${newSeconds.toString().padStart(2, '0')}`;
                
                // Update progress bar
                const progressBar = document.querySelector('.progress-bar');
                if (progressBar) {
                    const progress = (totalSeconds / 252) * 100;
                    progressBar.style.width = `${progress}%`;
                }
            }
        }, 1000);

        // Add click animations to buttons
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function() {
                anime({
                    targets: this,
                    scale: [1, 0.95, 1],
                    duration: 200,
                    easing: 'easeOutQuad'
                });
            });
        });
    </script>
</body>
</html>